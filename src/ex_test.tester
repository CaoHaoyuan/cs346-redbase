#! /bin/csh -f

# ex_test: EX component test script

#
# DBHOME:  This is the directory where dbcreate, redbase, and dbdestroy are
#
set DBHOME = .

#
# TESTSDIR:  This is the directory where the files of test queries
# are.
#
set TESTSDIR = .

#
# This is the name of the data base we will be using for the tests.
#
set TESTDB1 = db1
set TESTDB2 = db2

#
# This is the name of the output file we will use for the tests.
#
set OUTPUT = ex_test_out

#
# Run the requested tests
#

foreach testnum ( $* )
    if ( -r $TESTSDIR/ex_test.$testnum ) then
        $DBHOME/dbcreate  $TESTDB1 -distributed 3
        $DBHOME/redbase   $TESTDB1 < $TESTSDIR/ex_test.$testnum >! $OUTPUT
        $DBHOME/dbdestroy $TESTDB1
    else
        echo I can not find a test number $testnum. >> $OUTPUT
    endif
end
